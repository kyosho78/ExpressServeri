<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Herkut</title>
</head>


<body>
    <center>

        <h1>Herkkuja</h1>

        <div id="sisältö"></div>

    </center>

    <script>

        async function fetchData() {

            document.getElementById("sisältö").innerHTML = "<h4>Ladataan herkkuja...</h4>"

            var x = `<table><thead><th>Herkun nimi</th><th>tuotekoodi</th></thead><tbody>`

            try {

                const response = await fetch("http://localhost:3001/api/herkut")

                const herkkudata = await response.json() //muutetaan json => javascript muotonn

                await herkkudata.map(h => { //loopataan läpi olioy map funktiolla, h on 1 herkkuolio
                    x += `<tr><td>${h.name}</td><td>${h.id}</td></tr>`
                })

                //talukko päätetään ja renderöidään html elementtiin
                x += `</body></table>`
                document.getElementById("sisältö").innerHTML = x

            }
            catch (error) {
                console.error("Error fetching data:", error);

            }
        }
        fetchData()

    </script>
</body>


</html>